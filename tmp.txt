& 'RPN Calculator'//c_new_line// &
& '=============='//c_new_line// &
& ''//c_new_line// &
& 'The GtkFortran rpncalc program is intended to be both a demonstration'//c_new_line// &
& 'of some of the capabilities of GtkFortran and also a usable calculator'//c_new_line// &
& 'application.'//c_new_line// &
& ''//c_new_line// &
& 'It uses Reverse Polish logic (similar to calculators from HP) for 2'//c_new_line// &
& 'reasons:'//c_new_line// &
& '1) It's easier to implement.'//c_new_line// &
& '2) I prefer RPN calculators when using a physical calculator.'//c_new_line// &
& ''//c_new_line// &
& 'The stack is of (at least in theory) unlimited size (there is probably'//c_new_line// &
& 'a limit on the length of a TreeView in Gtk+).'//c_new_line// &
& ''//c_new_line// &
& 'Usage'//c_new_line// &
& '-----'//c_new_line// &
& ''//c_new_line// &
& 'Entering values:'//c_new_line// &
& ''//c_new_line// &
& 'Values can be entered either using the keypad, or by typing into the'//c_new_line// &
& 'entry box. Values entered from the keypad make sanity checks for 2'//c_new_line// &
& 'decimal points or a decimal entered after the exponent has been started'//c_new_line// &
& 'and the change-sign key works in a reasonably intelligent way. When'//c_new_line// &
& 'values are typed or pasted into the entry box, characters that cannot'//c_new_line// &
& 'be part of a number are rejected with a warning.'//c_new_line// &
& ''//c_new_line// &
& 'A value may be transferred from the entry to the stack by pressing the'//c_new_line// &
& 'keyboard "Enter" key while focus is on the entry window, or by clicking'//c_new_line// &
& 'the "Enter" key on the keypad. The "Dup" key copies the entry box to'//c_new_line// &
& 'the stack without clearing the entry box. If the contents of the entry'//c_new_line// &
& 'box are not a valid number (i.e. a Fortran "read" statement cannot'//c_new_line// &
& 'convert it to a floating point value) a message is displayed in the'//c_new_line// &
& 'status bar and you may edit the entry box to correct the problem.'//c_new_line// &
& ''//c_new_line// &
& 'Operators:'//c_new_line// &
& ''//c_new_line// &
& 'The operators (+, -, *, / and ** and the atan2 function) operate on the'//c_new_line// &
& 'entry box and the top element on the stack if there is anything in the'//c_new_line// &
& 'entry box. If the entry box is empty, then they operate on the top 2'//c_new_line// &
& 'elements of the stack.'//c_new_line// &
& ''//c_new_line// &
& 'Operators may also be accessed by typing the operator into the entry'//c_new_line// &
& 'window (N.B. The exponentiation operator is "^" rather than "**" for'//c_new_line// &
& 'convenience of implementation). The addition amd subtraction operators'//c_new_line// &
& 'will only work in this way if a sign would not be a valid part of a'//c_new_line// &
& 'number where they are entered, notably "+" or "-" in an empty entry box'//c_new_line// &
& 'is not treated as an operator. '//c_new_line// &
& ''//c_new_line// &
& 'The result is placed on the top of the stack, and displayed in the'//c_new_line// &
& 'result window.'//c_new_line// &
& ''//c_new_line// &
& 'Functions:'//c_new_line// &
& ''//c_new_line// &
& 'The functions operate on a single value, which is taken from the entry'//c_new_line// &
& 'box if that has content or from the top of the stack otherwise. The'//c_new_line// &
& 'result is placed on the top of the stack, and displayed in the result'//c_new_line// &
& 'window.'//c_new_line// &
& ''//c_new_line// &
& 'If the "Inverse" checkbox is set, then functions are replaced by their'//c_new_line// &
& 'inverses (e.g. "sin" becomes "asin"). The less-used functions in the'//c_new_line// &
& 'pulldown are not affected by this.'//c_new_line// &
& ''//c_new_line// &
& 'The "Rad", "Deg" and "Grad" radio buttons are used to select Radians,'//c_new_line// &
& 'Degrees or Grads for the trigonometric functions.'//c_new_line// &
& ''//c_new_line// &
& 'The "HMS" key is not a proper function, it doesn't remove or add'//c_new_line// &
& 'anything to the stack. It displays the contents of the entry box or the'//c_new_line// &
& 'top of the stack as if it were a number of hours converted to'//c_new_line// &
& 'HH:MM:SS.sss format.'//c_new_line// &
& ''//c_new_line// &
& 'Some less-used functions are in the "More>" pulldown. The "atan2"'//c_new_line// &
& 'function computes atan(y/x) removing the quadrant ambiguities.'//c_new_line// &
& ' '//c_new_line// &
& 'Stack operations:'//c_new_line// &
& ''//c_new_line// &
& '"CE" clears the entry box, or if that is empty deletes the top entry on'//c_new_line// &
& 'the stack.'//c_new_line// &
& ''//c_new_line// &
& '"CA" clears the entry box and all entries on the stack.'//c_new_line// &
& ''//c_new_line// &
& 'The up button moves the selected item in the stack up one place. If the'//c_new_line// &
& 'top item (or nothing) is selected then it is exchanges with the entry'//c_new_line// &
& 'box.'//c_new_line// &
& ''//c_new_line// &
& 'The down button moves the selected entry on the stack down one'//c_new_line// &
& 'place.'//c_new_line// &
& ''//c_new_line// &
& 'The roll down button, moves the last element of the stack to the top'//c_new_line// &
& 'and all others down one place.'//c_new_line// &
& ''//c_new_line// &
& 'Memory Registers:'//c_new_line// &
& ''//c_new_line// &
& 'The calculator also has 10[*] memory registers (numbered 0-9).'//c_new_line// &
& ''//c_new_line// &
& 'These can be accessed in one of two ways:'//c_new_line// &
& '1) Select a register in the registers tab, and then click a memory'//c_new_line// &
& 'operation. In this case the value used will be the entry box or the top'//c_new_line// &
& 'of the stack if the entry is empty.'//c_new_line// &
& '2) Enter a register number in the entry box and click the memory'//c_new_line// &
& 'operation. The value used is the top of the stack.'//c_new_line// &
& ''//c_new_line// &
& 'The operations are:'//c_new_line// &
& '"STO": Store the value in the selected register.'//c_new_line// &
& '"RCL": Copy the selected register to the top of the stack'//c_new_line// &
& '"M+": Add the value to the selected register'//c_new_line// &
& '"M-": Subtract the value from the selected register'//c_new_line// &
& '"MCL": Clear the selected register.'//c_new_line// &
& ''//c_new_line// &
& 'Statistics:'//c_new_line// &
& ''//c_new_line// &
& 'If the "Live stats" toggle is enabled, then a summary of the'//c_new_line// &
& 'statistical properties of the contents of the stack is maintained in'//c_new_line// &
& 'the "Statistics" tab of the display area. Clicking on a line of that'//c_new_line// &
& 'display copies its value to the stack.'//c_new_line// &
& ''//c_new_line// &
& 'Save & Restore:'//c_new_line// &
& ''//c_new_line// &
& 'The stack, registers and entry box can be saved to and restored from a'//c_new_line// &
& 'text file with the File->Save and File->Restore menu items.'//c_new_line// &
& ''//c_new_line// &
& 'The file format is a plain text file with the floating point values'//c_new_line// &
& 'written in hexadecimal -- this allows the retention of full-precision'//c_new_line// &
& 'but is endian-independent. Obviously any machines that do not use IEEE'//c_new_line// &
& 'floating point values will not be able to read files from other'//c_new_line// &
& 'machines. Also any machine with a c_double that is not 8-bytes will not'//c_new_line// &
& 'work.'//c_new_line// &
& ''//c_new_line// &
& 'Settings:'//c_new_line// &
& 'In the current version, there are 2 user-definable settings accessed'//c_new_line// &
& 'through the "Edit" menu:'//c_new_line// &
& '"Result Format": Specify the format (using any Fortran formatting code'//c_new_line// &
& 'valid for a REAL type) to use in the result box. Setting it to "*" or'//c_new_line// &
& 'an empty string will use the default list-directed output (as will an'//c_new_line// &
& 'invalid format).'//c_new_line// &
& '"Hold Entry Focus": If this is enabled, then the input focus always'//c_new_line// &
& 'snaps back to the entry window after any operation.'//c_new_line// &
& ''//c_new_line// &
& '[*] This can be changed by editing the "maxreg" value in widgets.f90'//cnull &
